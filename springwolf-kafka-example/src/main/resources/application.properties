import pandas as pd
import pytest
from calculation_methods import apply_post_inference_calculation

def test_apply_post_inference_calculation_gh():
    # DataFrame de exemplo
    df = pd.DataFrame({'score': [10, 20, 30, 40]})
    # Teste para verificar se o cálculo do tipo "GH" funciona corretamente
    result = apply_post_inference_calculation(df.copy(), 'score', 'GH')
    # Verificar se os valores categorizados estão corretos
    assert list(result['score']) == [1, 2, 3, 4]

def test_apply_post_inference_calculation_invalid_type():
    # DataFrame de exemplo
    df = pd.DataFrame({'score': [10, 20, 30, 40]})
    # Teste para verificar se o erro é lançado para um tipo de cálculo inválido
    with pytest.raises(ValueError, match="Cálculo 'invalid_type' não é suportado."):
        apply_post_inference_calculation(df.copy(), 'score', 'invalid_type')
